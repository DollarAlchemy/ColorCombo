<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CCC Battle Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        #battle-arena {
            position: relative;
            width: 80%;
            height: 60%;
            background: #fff;
            border: 2px solid #444;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .player {
            position: absolute;
            display: flex;
            flex-direction: column;
            align-items: center;
            animation: fadeIn 1s ease;
        }

        .player-1 {
            bottom: 10%;
            left: 20%;
        }

        .player-2 {
            top: 10%;
            right: 20%;
        }

        .player .emoji {
            font-size: 4rem;
            transition: transform 0.3s ease;
        }

        .player .health-bar {
            width: 100px;
            height: 10px;
            background: red;
            margin-top: 10px;
            border: 1px solid #444;
        }

        .player .stars {
            display: flex;
            gap: 5px;
            margin-top: 5px;
        }

        .player .stars span {
            font-size: 1.5rem;
        }

        .action-zone {
            position: absolute;
            background: #fef08a;
            width: 100px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #444;
            transform: translate(-50%, -50%);
            left: 50%;
            top: 50%;
            border-radius: 5px;
            animation: pulse 1.5s infinite;
        }

        #controls {
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }

        button {
            padding: 10px;
            font-size: 1rem;
            border: none;
            border-radius: 5px;
            background: #007bff;
            color: #fff;
            cursor: pointer;
        }

        button:hover {
            background: #0056b3;
        }

        #dialogue {
            margin-top: 20px;
            width: 80%;
            padding: 10px;
            background: #eee;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                background: #fef08a;
            }
            50% {
                transform: scale(1.1);
                background: #f9d423;
            }
        }
    </style>
</head>
<body>
    <div id="battle-arena">
        <div class="player player-1">
            <div class="emoji" id="player-emoji">üòÄ</div>
            <div class="health-bar" id="player-health"></div>
            <div class="stars">
                <span>‚≠ê</span><span>‚≠ê</span><span>‚≠ê</span>
            </div>
        </div>

        <div class="action-zone">
            ‚öîÔ∏è
        </div>

        <div class="player player-2">
            <div class="emoji" id="enemy-emoji">ü§ñ</div>
            <div class="health-bar" id="enemy-health"></div>
            <div class="stars">
                <span>‚≠ê</span><span>‚≠ê</span><span>‚≠ê</span>
            </div>
        </div>
    </div>

    <div id="controls">
        <button id="attack">Attack</button>
        <button id="defend">Defend</button>
        <button id="heal">Heal</button>
    </div>

    <div id="dialogue">Battle logs will appear here.</div>

    <script>
        let round = 1;
        const player1 = { health: 3, stars: 3, emoji: 'üòÄ', element: document.querySelector('#player-health') };
        const player2 = { health: 3, stars: 3, emoji: 'ü§ñ', element: document.querySelector('#enemy-health') };
        const dialogue = document.getElementById('dialogue');

        const emojis = {
            human: ['üòÄ', 'üòé', 'ü¶∏'],
            robot: ['ü§ñ', 'üëæ', 'üõ∏'],
            monsters: ['üëπ', 'üêâ', 'ü¶á']
        };

        document.getElementById('attack').addEventListener('click', () => {
            if (player2.health > 0) {
                player2.health--;
                updateHealth(player2);
                logAction(`Player 1 attacks Player 2!`);
                checkWin();
            } else {
                logAction(`Player 2 is already defeated!`);
            }
        });

        document.getElementById('defend').addEventListener('click', () => {
            logAction('Player 1 defends!');
        });

        document.getElementById('heal').addEventListener('click', () => {
            if (player1.health < 3) {
                player1.health++;
                updateHealth(player1);
                logAction('Player 1 heals!');
            } else {
                logAction('Player 1 is already at full health!');
            }
        });

        function updateHealth(player) {
            player.element.style.width = `${player.health * 33.33}px`;
        }

        function logAction(action) {
            dialogue.textContent = action;
        }

        function checkWin() {
            if (player2.health === 0) {
                logAction('Player 1 wins the round!');
                nextRound();
            }
        }

        function nextRound() {
            round++;
            player1.emoji = emojis.human[Math.min(round - 1, emojis.human.length - 1)];
            player2.emoji = emojis.monsters[Math.min(round - 1, emojis.monsters.length - 1)];

            document.getElementById('player-emoji').textContent = player1.emoji;
            document.getElementById('enemy-emoji').textContent = player2.emoji;

            player1.health = 3;
            player2.health = 3;
            updateHealth(player1);
            updateHealth(player2);

            logAction(`Round ${round} begins!`);
        }
    </script>
</body>
</html>
